---
import Layout from "@layouts/Layout.astro";
import { Image } from "astro:assets";
import bear from "@images/photo-1610570426407-efa770f9d31a.jpg";
---

<Layout title="Test">
  <div id="progress"></div>

  <h1 id="ha">Test</h1>
  <main>
    <h1>The Polar Bear</h1>
    <em
      >From <a href="https://en.wikipedia.org/wiki/Polar_bear">Wikipedia</a>,
      the free encyclopedia</em
    >
    <p>
      The <strong>polar bear <em>(Ursus maritimus)</em></strong> is a
      hypercarnivorous species of bear. Its native range lies largely within the
      Arctic Circle, encompassing the Arctic Ocean and its surrounding seas and
      landmasses, which includes the northernmost regions of North America and
      Eurasia. It is the largest extant bear species, as well as the largest
      extant land carnivore. A boar (adult male) weighs around 350–700 kg
      (770–1,540 lb), while a sow (adult female) is about half that size.
      Although it is the sister species of the brown bear, it has evolved to
      occupy a narrower ecological niche, with many body characteristics adapted
      for cold temperatures, for moving across snow, ice and open water, and for
      hunting seals, which make up most of its diet. Although most polar bears
      are born on land, they spend most of their time on the sea ice. Their
      scientific name means "maritime bear" and derives from this fact. Polar
      bears hunt their preferred food of seals from the edge of sea ice, often
      living off fat reserves when no sea ice is present. Because of their
      dependence on the sea ice, polar bears are classified as marine mammals.
    </p>
    <p>
      Because of expected habitat loss caused by climate change, the polar bear
      is classified as a vulnerable species. For decades, large-scale hunting
      raised international concern for the future of the species, but
      populations rebounded after controls and quotas began to take effect. For
      thousands of years, the polar bear has been a key figure in the material,
      spiritual, and cultural life of circumpolar peoples, and polar bears
      remain important in their cultures. Historically, the polar bear has also
      been known as the "white bear". It is sometimes referred to as the
      "nanook", based on the Inuit term nanuq.
    </p>
    <figure>
      <Image
        src={bear}
        alt="Bear"
        class="revealing-image"
        id="revealing-image-1"
      />
      <!-- <img
        src="/shared/img/photo-1610570426407-efa770f9d31a.jpeg"
        alt=""
        title=""
        width="1080"
        height="720"
        class="revealing-image"
        id="revealing-image-1"
      /> -->
      <figcaption>
        <a href="https://unsplash.com/photos/PX_1j-M59I8">Polar bear walking</a>
         by <a href="https://unsplash.com/@dtbosse">Daniel Bosse</a>
      </figcaption>
    </figure>
    <p></p>

    <h2>Naming and etymology</h2>

    <p>
      Constantine John Phipps was the first to describe the polar bear as a
      distinct species in 1774 in his report about his 1773 expedition towards
      the North Pole. He chose the scientific name Ursus maritimus, the Latin
      for "maritime bear", due to the animal's native habitat. The Inuit refer
      to the animal as nanook (transliterated as nanuq in the Inupiat language).
      The Yupik also refer to the bear as nanuuk in Siberian Yupik. In the
      Chukotko-Kamchatkan languages of Alyutor and Koryak, the name of the polar
      bear is umqa, while in the related Chukchi, it is umqə. In Russian, it is
      usually called бе́лый медве́дь (bélyj medvédj, 'white bear'), though an
      older word still in use is ошку́й (Oshkúj, which comes from the Komi oski,
      "bear"). In Quebec, the polar bear is referred to by the french terms ours
      blanc ('white bear') or ours polaire ('polar bear'). In Norwegian, one of
      the primary languages of the Svalbard archipelago, the polar bear is
      referred to as isbjørn ('ice bear') or kvitbjørn ('white bear').
    </p>
    <p>
      The polar bear was previously considered to be in its own genus,
      Thalarctos. However, evidence of hybrids between polar bears and brown
      bears, and of the recent evolutionary divergence of the two species, does
      not support the establishment of this separate genus, and the accepted
      scientific name is now therefore Ursus maritimus, as Phipps originally
      proposed.
    </p>

    <p></p><figure>
      <!-- <img
        src="/shared/img/photo-1610570311113-79ba0e69768d.jpeg"
        alt=""
        title=""
        width="1080"
        height="720"
        class="revealing-image"
        id="revealing-image-2"
      /> -->
      <Image
        src={bear}
        alt="Bear"
        class="revealing-image"
        id="revealing-image-2"
      />
      <figcaption>
        <a href="https://unsplash.com/photos/Fk4Y_VkUlSQ"
          >Polar bear shaking off water</a
        > by <a href="https://unsplash.com/@dtbosse">Daniel Bosse</a>
      </figcaption>
    </figure>
    <p></p>

    <h2>Taxonomy and evolution</h2>

    <p>
      The bear family, Ursidae, is thought to have split from other carnivorans
      about 38 million years ago. The subfamily Ursinae originated approximately
      4.2 million years ago. The oldest known polar bear fossil is a 130,000 to
      110,000-year-old jaw bone, found on Prince Charles Foreland in 2004.
      Fossils show that between 10,000 and 20,000 years ago, the polar bear's
      molar teeth changed significantly from those of the brown bear. Polar
      bears are thought to have diverged from a population of brown bears that
      became isolated during a period of glaciation in the Pleistocenefrom the
      eastern part of Siberia (from Kamchatka and the Kolym Peninsula).
    </p>
    <p>
      The evidence from DNA analysis is more complex. The mitochondrial DNA
      (mtDNA) of the polar bear diverged from the brown bear, Ursus arctos,
      roughly 150,000 years ago. Further, some clades of brown bear, as assessed
      by their mtDNA, were thought to be more closely related to polar bears
      than to other brown bears, meaning that the brown bear might not be
      considered a species under some species concepts, but paraphyletic. The
      mtDNA of extinct Irish brown bears is particularly close to polar bears. A
      comparison of the nuclear genome of polar bears with that of brown bears
      revealed a different pattern, the two forming genetically distinct clades
      that diverged approximately 603,000 years ago, although the latest
      research is based on analysis of the complete genomes (rather than just
      the mitochondria or partial nuclear genomes) of polar and brown bears, and
      establishes the divergence of polar and brown bears at 400,000 years ago.
    </p>
    <p>
      However, the two species have mated intermittently for all that time, most
      likely coming into contact with each other during warming periods, when
      polar bears were driven onto land and brown bears migrated northward. Most
      brown bears have about 2 percent genetic material from polar bears, but
      one population, the ABC Islands bears, has between 5 percent and 10
      percent polar bear genes, indicating more frequent and recent mating.
      Polar bears can breed with brown bears to produce fertile grizzly–polar
      bear hybrids; rather than indicating that they have only recently
      diverged, the new evidence suggests more frequent mating has continued
      over a longer period of time, and thus the two bears remain genetically
      similar. However, because neither species can survive long in the other's
      ecological niche, and because they have different morphology, metabolism,
      social and feeding behaviours, and other phenotypic characteristics, the
      two bears are generally classified as separate species.
    </p>
    <p>
      When the polar bear was originally documented, two subspecies were
      identified: the American polar bear (Ursus maritimus maritimus) by
      Constantine J. Phipps in 1774, and the Siberian polar bear (Ursus
      maritimus marinus) by Peter Simon Pallas in 1776. This distinction has
      since been invalidated. One alleged fossil subspecies has been identified:
      Ursus maritimus tyrannus, which became extinct during the Pleistocene.
      U.m. tyrannus was significantly larger than the living subspecies.
      However, recent reanalysis of the fossil suggests that it was actually a
      brown bear.
    </p>

    <p>
      <em
        >Source: <a href="https://en.wikipedia.org/wiki/Polar_bear">Wikipedia</a
        ></em
      >
    </p>
    <div id="container">
      <div id="square"></div>
      <div id="stretcher"></div>
    </div>
  </main>
</Layout>
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
      "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans",
      "Helvetica Neue", sans-serif;
    font-size: clamp(1.1em, calc(0.5em + 1vw), 3em);
  }
  img {
    max-width: 100%;
    height: auto;
  }
  @keyframes grow-progress {
    from {
      transform: scaleX(0);
    }
    to {
      transform: scaleX(1);
    }
  }

  #progress {
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    height: 1em;
    background: red;

    transform-origin: 0 50%;
    animation: grow-progress auto linear;
    animation-timeline: scroll();
  }
  #ha {
    position: fixed;
    left: 0;
    top: 20;
    animation: grow-progress auto linear;
    animation-timeline: scroll();
  }
  main {
    font-weight: 300;
    width: 90vw;
    max-width: 40em;
    margin: 0 auto;
    padding: 4rem 0;
    font-size: clamp(1.1em, calc(0.5em + 1vw), 3em);
  }

  @layer demo, meta;

  @layer meta {
    @layer metabox {
      #metabox {
        position: fixed;
        bottom: 1rem;
        right: 1rem;

        display: flex;
        flex-direction: column;
        gap: 1rem;
        font-size: 1.2rem;
        z-index: 2147483647;
      }

      /* Hide all but infobox when embedded */
      .is-embed
        #metabox
        :is(#version-selector, #version-selector-popover, .button[href="/"]) {
        display: none;
      }

      #metabox :is(button, .button) {
        font-size: 2.5rem;
        line-height: 1;
        display: block;

        border: 0;
        background: transparent;
        padding: 0;
        cursor: pointer;

        opacity: 0.7;
        transition: opacity 0.25s ease-in-out;
        border-radius: 0.25rem;
        text-decoration: none;
      }

      #metabox :is(button, .button):active,
      #metabox :is(button, .button):focus {
        outline: 2px dashed rgb(0 0 0 / 0.5);
        outline-offset: 0.25rem;
      }

      #metabox > :is(button, .button):hover {
        opacity: 1 !important;
      }

      @keyframes pulsate {
        80% {
          opacity: 1;
        }
        85% {
          opacity: 1;
        }
        90% {
          opacity: 0;
        }
        95% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }

      #metabox > button.animated {
        animation: 5s pulsate ease-in alternate infinite;
      }

      #metabox > button.animated:hover,
      #metabox > button.animated:focus,
      #metabox:has(dialog[open]) > button.animated {
        animation: none;
      }

      #metabox > button[disabled] {
        cursor: not-allowed;
        outline: none !important;
      }
    }

    @layer infobox {
      @layer ui {
        #infobox[open] {
          box-sizing: border-box;
          margin: 10vh auto;
          width: 80vw;
          max-width: 90ch;
          max-height: 80vh;
          padding: 2rem;
          overscroll-behavior: contain;

          background: #eee;
          border: 0.25rem solid lightblue;
          overflow: auto;

          position: fixed;
        }

        #infobox::backdrop {
          background-color: rgb(0 0 0 / 0.5);
        }

        #infobox > :first-child {
          margin-top: 0;
        }
        #infobox > :last-child {
          margin-bottom: 0;
        }

        #infobox-close {
          /* Also inherits from `#metabox > button` */
          position: absolute;
          right: 0.5rem;
          top: 0.5rem;

          filter: grayscale();
        }
        #infobox-close:hover,
        #infobox-close:focus {
          filter: none;
        }
      }

      @layer code {
        #infobox pre {
          border: 1px solid #dedede;
          padding: 1em;
          background: #f7f7f7;
          font-family: "Courier 10 Pitch", Courier, monospace;
          overflow-x: auto;
          border-left: 0.4em solid cornflowerblue;
          tab-size: 2;
        }

        #infobox code:not(pre code),
        #infobox output:not(code:has(output) output) {
          background: #f7f7f7;
          border: 1px solid rgb(0 0 0 / 0.2);
          padding: 0.1rem 0.3rem;
          margin: 0.1rem 0;
          border-radius: 0.2rem;
          display: inline-block;
        }
      }
    }

    @layer popover {
      [popovertarget][data-activeversion] {
        position: relative;
      }
      [popovertarget][data-activeversion]::after {
        content: attr(data-activeversion);
        position: absolute;
        bottom: 0;
        right: 0;
        z-index: 2;
        font-size: 0.8rem;
        font-weight: bold;
        padding: 0.1em;
        background-color: #1874bc;
        color: white;
        font-family: "Courier New", Courier, monospace;
        font-variant-numeric: tabular-nums;
        display: block;
        min-width: 2ex;
        line-height: 1;
      }
      [popovertarget][data-activeversion][data-activelang="js"]::after {
        background-color: #f7df1e;
        color: #333;
      }
      [popovertarget] {
        anchor-name: --my-anchor-popover;
      }
      [popover] {
        inset: auto;
        width: auto;
        padding: 1rem 1rem 2rem 1rem;
        overflow: unset;
        bottom: calc(anchor(top) - 3rem);
        right: calc(anchor(right) + 3rem);
      }

      .no-anchor [popover] {
        min-width: 20rem;
        /* transform: translate(calc(-100% - 1rem), calc(-100% + 1rem)); */
        z-index: 2147483647;
        bottom: 10rem;
        right: 4.5rem;
      }

      [popover] > :first-child {
        margin-top: 0;
      }
      [popover] > :last-child {
        margin-bottom: 0;
      }

      [popover] [data-lang]::before {
        content: attr(data-lang);
        font-size: 0.8rem;
        font-weight: bold;
        padding: 0.1em;
        background-color: blue;
        color: white;
        font-family: "Courier New", Courier, monospace;
        font-variant-numeric: tabular-nums;
        background-color: #1874bc;
        display: inline-block;
        width: 2rem;
        text-align: center;
        vertical-align: middle;
        margin-right: 0.2rem;
      }
      [popover] [data-lang="js"]::before {
        background-color: #f7df1e;
        color: #333;
      }

      [popover] [data-selected] {
        font-weight: 700;
      }
    }

    @layer warning {
      .warning {
        box-sizing: border-box;
        padding: 1em;
        margin: 1em 0;
        border: 1px solid #ccc;
        background: rgba(255 255 205 / 0.8);
      }

      .warning > :first-child {
        margin-top: 0;
      }

      .warning > :last-child {
        margin-bottom: 0;
      }

      .warning a {
        color: blue;
      }
      .warning--info {
        border: 1px solid #123456;
        background: rgb(205 230 255 / 0.8);
      }
      .warning--alarm {
        border: 1px solid red;
        background: #ff000010;
      }

      @supports (animation-timeline: view()) {
        .warning:not([data-bug]) {
          display: none;
        }
      }

      @supports (animation-range: 0vh 90vh) {
        .warning[data-bug="1427062"] {
          display: none;
        }
      }
    }
  }

  #container {
    height: 90vh;
    overflow-y: scroll;
    scroll-timeline: --squareTimeline y;
    /* Firefox supports the older "vertical" syntax */
    scroll-timeline: --squareTimeline vertical;
    position: relative;
  }
  #square {
    background-color: deeppink;
    width: 100px;
    height: 100px;
    animation-name: rotateAnimation;
    animation-duration: 1ms; /* Firefox requires this to apply the animation */
    animation-timeline: --squareTimeline;
    position: absolute;
    bottom: 0;
  }

  #stretcher {
    height: 900px;
    background: #dedede;
  }

  @keyframes rotateAnimation {
    from {
      transform: rotate(0deg);
    }

    to {
      transform: rotate(360deg);
    }
  }
  @keyframes reveal {
    from {
      opacity: 0;
      clip-path: inset(75% 10% 75% 30%);
    }
    to {
      opacity: 1;
      clip-path: inset(0% 0% 0% 0%);
    }
  }

  .revealing-image {
    view-timeline-name: --revealing-image;
    view-timeline-axis: block;

    animation: ease-in reveal both;
    animation-timeline: --revealing-image;
    animation-range: entry 25% cover 50%;
  }
</style>
<script src="https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js"
></script>
